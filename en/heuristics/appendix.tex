\begin{appendix}
\chapter{A PDDL BlocksWorld Domain}
\label{pddlDomain}
\hspace*{1cm}(define (domain blocksworld)
\\ \hspace*{1.5cm}    (:requirements :strips :typing)
\\ \hspace*{1.5cm}    (:types block)
\\ \hspace*{1.5cm}    (:predicates (on ?x - block ?y - block)
\\ \hspace*{2cm}	       (ontable ?x - block)
\\ \hspace*{2cm}	       (clear ?x - block)
\\ \hspace*{2cm}	       (handempty)
\\ \hspace*{2cm}	       (holding ?x - block)
\\ \hspace*{1.5cm}    )
\\ \hspace*{1.5cm}
\\ \hspace*{1.5cm}(:action pickup
\\ \hspace*{2cm}	     :parameters (?x - block)
\\ \hspace*{2cm}	     :precondition (and (clear ?x) (ontable ?x) (handempty))
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (not (ontable ?x))
\\ \hspace*{2.5cm}		   (not (clear ?x))
\\ \hspace*{2.5cm}		   (not (handempty))
\\ \hspace*{2.5cm}		   (holding ?x)
\\ \hspace*{2cm})
\\ \hspace*{1.5cm})
\\ \hspace*{1.5cm}
\\ \hspace*{1.5cm}  (:action putdown
\\ \hspace*{2cm}	     :parameters (?x - block)
\\ \hspace*{2cm}	     :precondition (holding ?x)
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (not (holding ?x))
\\ \hspace*{2.5cm}		   (clear ?x)
\\ \hspace*{2.5cm}		   (handempty)
\\ \hspace*{2.5cm}		   (ontable ?x)
\\ \hspace*{2cm})
\\ \hspace*{1.5cm})
\\ \hspace*{1.5cm}
\\ \hspace*{1.5cm}  (:action stack
\\ \hspace*{2cm}	     :parameters (?x - block ?y - block)
\\ \hspace*{2cm}	     :precondition (and (holding ?x) (clear ?y))
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (not (holding ?x))
\\ \hspace*{2.5cm}		   (not (clear ?y))
\\ \hspace*{2.5cm}		   (clear ?x)
\\ \hspace*{2.5cm}		   (handempty)
\\ \hspace*{2.5cm}		   (on ?x ?y)
\\ \hspace*{2cm}	)
\\ \hspace*{1.5cm})
\\ \hspace*{1.5cm}		   
\\ \hspace*{1.5cm}  (:action unstack
\\ \hspace*{2cm}	     :parameters (?x - block ?y - block)
\\ \hspace*{2cm}	     :precondition (and (on ?x ?y) (clear ?x) (handempty))
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (holding ?x)
\\ \hspace*{2.5cm}		   (clear ?y)
\\ \hspace*{2.5cm}		   (not (clear ?x))
\\ \hspace*{2.5cm}		   (not (handempty))
\\ \hspace*{2.5cm}		   (not (on ?x ?y))
\\ \hspace*{2cm})
\\ \hspace*{1.5cm})
\\ \hspace*{1cm})




\chapter{A PDDL BlocksWorld Problem}
\hspace*{1cm} (define (problem BLOCKS-4-0)
\\ \hspace*{1cm} (:domain BLOCKS)
\\ \hspace*{1cm} (:objects D B A C - block)
\\ \hspace*{1cm} (:INIT (CLEAR C) (CLEAR A) (CLEAR B) (CLEAR D) (ONTABLE C) \\ \hspace*{1cm} (ONTABLE A) (ONTABLE B) (ONTABLE D) (HANDEMPTY))
\\ \hspace*{1cm} (:goal (AND (ON D C) (ON C B) (ON B A)))
\\ \hspace*{1cm} )



\chapter{A HTN BlocksWorld Domain}
\label{htnDomain}

\hspace*{1cm}(define (domain blocksworld)
\\ \hspace*{1.5cm}    (:requirements :strips :typing)
\\ \hspace*{1.5cm}    (:types block)
\\ \hspace*{1.5cm}    (:predicates (on ?x - block ?y - block)
\\ \hspace*{2cm}	       (ontable ?x - block)
\\ \hspace*{2cm}	       (clear ?x - block)
\\ \hspace*{2cm}	       (handempty)
\\ \hspace*{2cm}	       (holding ?x - block)
\\ \hspace*{1.5cm}    )
\\ \hspace*{1.5cm}
\\ \hspace*{1.5cm}(:action pickup
\\ \hspace*{2cm}	     :parameters (?x - block)
\\ \hspace*{2cm}	     :precondition (and (clear ?x) (ontable ?x) (handempty))
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (not (ontable ?x))
\\ \hspace*{2.5cm}		   (not (clear ?x))
\\ \hspace*{2.5cm}		   (not (handempty))
\\ \hspace*{2.5cm}		   (holding ?x)
\\ \hspace*{2cm})
\\ \hspace*{1.5cm})
\\ \hspace*{1.5cm}
\\ \hspace*{1.5cm}  (:action putdown
\\ \hspace*{2cm}	     :parameters (?x - block)
\\ \hspace*{2cm}	     :precondition (holding ?x)
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (not (holding ?x))
\\ \hspace*{2.5cm}		   (clear ?x)
\\ \hspace*{2.5cm}		   (handempty)
\\ \hspace*{2.5cm}		   (ontable ?x)
\\ \hspace*{2cm})
\\ \hspace*{1.5cm})
\\ \hspace*{1.5cm}
\\ \hspace*{1.5cm}  (:action stack
\\ \hspace*{2cm}	     :parameters (?x - block ?y - block)
\\ \hspace*{2cm}	     :precondition (and (holding ?x) (clear ?y))
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (not (holding ?x))
\\ \hspace*{2.5cm}		   (not (clear ?y))
\\ \hspace*{2.5cm}		   (clear ?x)
\\ \hspace*{2.5cm}		   (handempty)
\\ \hspace*{2.5cm}		   (on ?x ?y)
\\ \hspace*{2cm}	)
\\ \hspace*{1.5cm})
\\ \hspace*{1.5cm}		   
\\ \hspace*{1.5cm}  (:action unstack
\\ \hspace*{2cm}	     :parameters (?x - block ?y - block)
\\ \hspace*{2cm}	     :precondition (and (on ?x ?y) (clear ?x) (handempty))
\\ \hspace*{2cm}	     :effect
\\ \hspace*{2cm}	     (and (holding ?x)
\\ \hspace*{2.5cm}		   (clear ?y)
\\ \hspace*{2.5cm}		   (not (clear ?x))
\\ \hspace*{2.5cm}		   (not (handempty))
\\ \hspace*{2.5cm}		   (not (on ?x ?y))
\\ \hspace*{2cm})
\\ \hspace*{1.5cm})
\\
\\;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block)\\
\hspace*{2cm}  :precondition(and (handempty) (on ?y ?x) (ontable ?x))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag a (reverse(?y)))\\
\hspace*{2.5cm}        (tag b (pickup(?x)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series a b c)\\
\hspace*{2.5cm}        (after (and (handempty) (ontable ?x) (clear ?x) (clear ?y)) a)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block)\\
\hspace*{2cm}  :precondition(and (handempty) (on ?y ?x) (on ?x ?z))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag a (reverse(?y)))\\
\hspace*{2.5cm}        (tag b (unstack(?x, ?z)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series a b c)\\
\hspace*{2.5cm}        (after (and (handempty)  (on ?x ?z)(clear ?x) (clear ?y)) a)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block)\\
\hspace*{2cm}  :precondition(and (handempty) (clear ?x) (on ?x ?y))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag b (unstack(?x, ?y)))\\
\hspace*{2.5cm}        (tag c (putdown(?x)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series b c)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block)\\
\hspace*{2cm}  :precondition(and (handempty) (clear ?x) (ontable ?x))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
\hspace*{2cm}  :precondition(and (handempty) (on ?z, ?x) (clear ?y) (ontable ?x))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag a (reverse(?z, ?y)))\\
\hspace*{2.5cm}        (tag b (pickup(?x)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?z)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series a b c)\\
\hspace*{2.5cm}        (after (and (handempty) (ontable ?x) (clear ?x) (clear ?z) (not (clear ?y))) a)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
\hspace*{2cm}  :precondition(and (handempty) (on ?z, ?x) (clear ?y) (on ?x ?j))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag a (reverse(?z, ?y)))\\
\hspace*{2.5cm}        (tag b (unstack(?x, ?j)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?z)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series a b c)\\
\hspace*{2.5cm}        (after (and (handempty) (on ?x ?j) (clear ?x) (clear ?z) (not (clear ?y))) a)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
\hspace*{2cm}  :precondition(and (handempty) (clear ?x) (clear ?y) (on ?x ?z))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag b (unstack(?x, ?z)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series b c)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method reverse\\
\hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
\hspace*{2cm}  :precondition(and (handempty) (clear ?x) (clear ?y) (ontable ?x))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag b (pickup(?x)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series b c)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method insert\\
\hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
\hspace*{2cm}  :precondition(and (clear ?x) (handempty) (ontable ?x) (on(?z, ?y)))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag a (reverse(?z)))\\
\hspace*{2.5cm}        (tag b (pickup(?x)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
\hspace*{2.5cm}        (tag d (reverse(?z, ?x)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series a b c d)\\
\hspace*{2.5cm}        (after (and (clear ?y) (ontable ?x) (handempty)) a)\\
\hspace*{2.5cm}        (after (and (on ?x ?y) (on ?z ?x)) d)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method insert\\
\hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
\hspace*{2cm}  :precondition(and (clear ?x) (handempty) (on ?j ?x) (on(?z, ?y)))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag a (reverse(?z)))\\
\hspace*{2.5cm}        (tag b (unstack(?x, ?j)))\\
\hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
\hspace*{2.5cm}        (tag d (reverse(?z, ?x)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series a b c d)\\
\hspace*{2.5cm}        (after (and (clear ?y) (on ?j ?x) (handempty)) a)\\
\hspace*{2.5cm}        (after (and (on ?x ?y) (on ?z ?x)) d)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method Clear\\
\hspace*{2cm}  :parameters  (?x - block)\\
\hspace*{2cm}  :precondition(and (not (clear ?x)) (handempty))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag b (reverse(?x)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (after (clear ?x) b)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\
\\ \hspace*{1.5cm}(:method Clear\\
\hspace*{2cm}  :parameters  (?x - block)\\
\hspace*{2cm}  :precondition(and (handempty) (on ?y ?x) (on ?x ?z))\\
\hspace*{2cm}  :expansion  (\\
\hspace*{2.5cm}        (tag a (Clear(?y)))\\
\hspace*{2.5cm}        (tag b (unstack(?x, ?z)))\\
\hspace*{2.5cm}        (tag c (putdown(?x)))\\
\hspace*{2cm}  )\\
\hspace*{2cm}  :constraints(\\
\hspace*{2.5cm}        (series a b c)\\
\hspace*{2.5cm}        (after (and (handempty) (clear ?x) (on ?x ?z)) a)\\
\hspace*{2cm}  )\\
\hspace*{1.5cm})
\\ \hspace*{1cm})
% \\
% \\ \hspace*{1.5cm}$($:method stackTop\\
% \hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
% \hspace*{2cm}  :precondition((and (handempty) (on ?z, ?y) (clear ?x)))\\
% \hspace*{2cm}  :expansion  (\\
% \hspace*{2.5cm}        (tag b (stackTop(?x, ?z)))\\
% \hspace*{2cm}  )\\
% \hspace*{2cm}  :constraints(\\
% \hspace*{2cm}  )\\
% \hspace*{1.5cm}$)$
% \\ \hspace*{1cm})
% \\
% \\ \hspace*{1.5cm}$($:method stackTop\\
% \hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
% \hspace*{2cm}  :precondition((and (handempty) (clear ?y) (clear ?x) (ontable ?x)))\\
% \hspace*{2cm}  :expansion  (\\
% \hspace*{2.5cm}        (tag b (pickup(?x)))\\
% \hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
% \hspace*{2cm}  )\\
% \hspace*{2cm}  :constraints(\\
% \hspace*{2.5cm}        (series b c)\\
% \hspace*{2cm}  )\\
% \hspace*{1.5cm}$)$
% \\ \hspace*{1cm})
% \\
% \\ \hspace*{1.5cm}$($:method stackTop\\
% \hspace*{2cm}  :parameters  (?x - block, ?y - block)\\
% \hspace*{2cm}  :precondition((and (handempty) (clear ?y) (clear ?x) (on ?x ?z))))\\
% \hspace*{2cm}  :expansion  (\\
% \hspace*{2.5cm}        (tag b (unstack(?x, ?z)))\\
% \hspace*{2.5cm}        (tag c (stack(?x, ?y)))\\
% \hspace*{2cm}  )\\
% \hspace*{2cm}  :constraints(\\
% \hspace*{2.5cm}        (series b c)\\
% \hspace*{2cm}  )\\
% \hspace*{1.5cm}$)$
% \\ \hspace*{1cm})

% \chapter{A HTN BlocksWorld Problem}
\end{appendix}